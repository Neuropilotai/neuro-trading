# Self-Audit Report Template

**Auto-generated by NeuroPilot v17.4 Compliance Scanner**

---

## ğŸ“‹ Report Header

**Generated:** `{timestamp}`
**Status:** {status_emoji} `{compliance_status}`
**Overall Score:** `{overall_score}/100`
**Audit Version:** `17.4.0`

---

## ğŸ“Š Executive Summary

### Compliance Status

| Status | Criteria |
|--------|----------|
| âœ… **PASSED** | Score â‰¥ 80, Critical = 0, High â‰¤ 2 |
| âš ï¸  **WARNING** | Score â‰¥ 70, Critical = 0, High â‰¤ 5 |
| âŒ **FAILED** | Score < 70 OR Critical > 0 OR High > 5 |

**Current Status:** `{compliance_status}`

---

### Summary Statistics

- **Total Checks:** `{total_checks}`
- **Passed Checks:** `{passed_checks}` ({passed_percentage}%)
- **Critical Findings:** `{critical_count}` ğŸš¨
- **High Findings:** `{high_count}` âš ï¸
- **Medium Findings:** `{medium_count}` ğŸŸ¡
- **Low Findings:** `{low_count}` â„¹ï¸

---

## ğŸ” Detailed Findings

### ğŸš¨ Critical Severity

{critical_findings}

**Impact**: Immediate production risk. Deployment blocked until resolved.

**Required Action**: Fix within 24 hours.

---

### âš ï¸ High Severity

{high_findings}

**Impact**: Significant security or compliance risk.

**Required Action**: Fix within 72 hours.

---

### ğŸŸ¡ Medium Severity

{medium_findings}

**Impact**: Moderate risk or technical debt.

**Required Action**: Plan remediation within 2 weeks.

---

### â„¹ï¸ Low Severity

{low_findings}

**Impact**: Minor issues or recommendations.

**Required Action**: Address during next maintenance window.

---

## ğŸ“ˆ Check Results

### 1. Infrastructure as Code (IaC) Compliance

**Score:** `{iac_score}/100`

**Checks:**
- âœ… Terraform validation: `{terraform_validate_status}`
- âœ… No hardcoded secrets: `{secrets_status}`
- âœ… SSL/TLS enforced: `{ssl_status}`
- âœ… Secure defaults: `{defaults_status}`

**Findings:** {iac_findings_count}

---

### 2. Terraform Drift Detection

**Drift Detected:** `{drift_detected}`

**Details:**
```
{drift_details}
```

**Action Required:** {drift_action}

---

### 3. Zero-Trust Policy Verification

**Compliant:** `{zero_trust_compliant}`

**Checks:**
- âœ… Authentication on all routes: `{auth_status}`
- âœ… HTTPS enforced: `{https_status}`
- âœ… CORS restricted: `{cors_status}`
- âœ… JWT validation: `{jwt_status}`

**Findings:** {zero_trust_findings_count}

---

### 4. Security Best Practices

**Score:** `{security_score}/100`

**Checks:**
- âœ… No .env in git: `{env_files_status}`
- âœ… npm audit: `{npm_audit_status}`
  - Critical: `{npm_critical}`
  - High: `{npm_high}`
  - Medium: `{npm_medium}`
- âœ… Database encryption: `{db_encryption_status}`
- âœ… Secrets rotation: `{secrets_rotation_status}`

**Findings:** {security_findings_count}

---

### 5. Operations History (Last 24h)

**Remediation Actions:** `{remediation_actions}`
- Successful: `{successful_remediations}` ({success_rate}%)
- Failed: `{failed_remediations}`

**Incidents:**
- Detected: `{incidents_detected}`
- Prevented: `{incidents_prevented}`

**Average Response Time:** `{avg_response_time}` seconds

---

### 6. SLA Compliance

**Target:** `{sla_target}%`
**Actual:** `{sla_actual}%`
**Status:** {sla_status_emoji} `{sla_status}`

**Uptime Breakdown (24h):**
- Total minutes: 1440
- Down minutes: `{downtime_minutes}`
- Uptime percentage: `{sla_actual}%`

---

### 7. Cost Compliance

**Budget:** `${cost_budget}/month`
**Current:** `${current_cost}/month`
**Status:** {cost_status_emoji} `{cost_status}`

**Projected Monthly Cost:** `${projected_cost}`
**Variance:** {variance}% ({over_under} budget)

**Cost Breakdown:**
- Railway: `${railway_cost}`
- Neon: `${neon_cost}`
- Cloudflare: `${cloudflare_cost}`
- Grafana: `${grafana_cost}`
- Other: `${other_cost}`

---

## ğŸ’¡ Recommendations

{recommendations}

---

## ğŸ“… Remediation Plan

### Immediate (0-24h)

{immediate_actions}

### Short-term (1-7 days)

{short_term_actions}

### Long-term (1-4 weeks)

{long_term_actions}

---

## ğŸ“Š Historical Trends

### Compliance Score Trend (Last 30 days)

```
Date       | Score | Status
-----------|-------|--------
2025-10-23 | 92    | âœ… PASSED
2025-10-22 | 88    | âœ… PASSED
2025-10-21 | 85    | âœ… PASSED
2025-10-20 | 91    | âœ… PASSED
```

**Trend:** {trend_direction} ({trend_change} points)

---

### Critical Findings Trend

```
Week       | Critical | High | Medium
-----------|----------|------|--------
Week 42    | 0        | 1    | 3
Week 41    | 0        | 2    | 4
Week 40    | 1        | 3    | 5
```

**Trend:** {findings_trend} (improving ğŸ“ˆ)

---

## ğŸ¯ Compliance Goals

### Current Month Progress

- [x] Zero critical findings
- [x] <3 high findings
- [x] Score > 85
- [ ] 100% zero-trust compliant
- [x] <$35/month cost

**Progress:** 80% (4/5 goals met)

---

## ğŸ“ Next Steps

### Automated Actions

The following actions will be taken automatically:

1. **If drift detected**: Apply Terraform changes during next maintenance window
2. **If vulnerabilities found**: Run `npm audit fix` automatically
3. **If cost exceeded**: Trigger optimize playbook
4. **If SLA breached**: Scale up and investigate

### Manual Review Required

{manual_review_items}

---

## ğŸ“š Appendices

### A. Audit Configuration

```yaml
# From sentient_config.yaml
compliance:
  enabled: true
  audit_schedule_cron: "0 5 * * *"
  thresholds:
    max_critical_findings: 0
    max_high_findings: 2
    min_overall_score: 80
```

### B. Check Definitions

| Check | Description | Severity |
|-------|-------------|----------|
| `terraform_validate` | Terraform configuration valid | High |
| `hardcoded_secrets` | No secrets in .tf files | Critical |
| `https_enforcement` | HTTPS enforced on all routes | Critical |
| `jwt_validation` | JWT tokens validated | Critical |
| `npm_audit` | No critical npm vulnerabilities | High |
| `env_in_git` | No .env files committed | Critical |
| `drift_detection` | Infrastructure matches Terraform | Medium |

### C. Scoring Methodology

```
Overall Score = Average of:
  - IaC Compliance (0-100)
  - Security Practices (0-100)
  - Zero-Trust (0 or 100)
  - SLA (0, 70, or 100)
  - Cost (0, 80, or 100)
  - Drift (90 or 100)

Compliance Status:
  PASSED:  Score â‰¥ 80 AND Critical = 0 AND High â‰¤ 2
  WARNING: Score â‰¥ 70 AND Critical = 0 AND High â‰¤ 5
  FAILED:  Otherwise
```

---

## ğŸ”— Quick Links

- **GitHub Actions**: {github_actions_url}
- **Grafana Dashboard**: {grafana_url}
- **Sentry Errors**: {sentry_url}
- **Cost Dashboard**: {cost_dashboard_url}
- **Previous Audits**: `logs/audit/`

---

## ğŸ“„ Report Metadata

**Report ID:** `{report_id}`
**Generated By:** NeuroPilot Sentient Core v17.4
**Execution Time:** `{execution_time}` seconds
**Next Audit:** {next_audit_time}

---

*This report was autonomously generated. No human intervention was required.*

---

## ğŸ“‹ Example Report (Reference)

### Sample: PASSED Status

```markdown
# NeuroPilot v17.4 - Self-Audit Report

**Generated:** 2025-10-23T05:00:00Z
**Status:** âœ… PASSED
**Overall Score:** 92/100

## Summary

- **Total Checks:** 7
- **Passed Checks:** 6
- **Critical Findings:** 0
- **High Findings:** 1
- **Medium Findings:** 2

## Detailed Findings

### âš ï¸ High

- **npm_vulnerabilities**: 2 high npm vulnerabilities found
  - Fix: Run `npm audit fix` in backend directory

### ğŸŸ¡ Medium

- **cors_policy**: CORS allows multiple origins
  - Fix: Restrict to single production domain
- **database_encryption**: Encryption config not explicit
  - Fix: Add encryption flag to Neon Terraform module

## Recommendations

1. Run 'npm audit fix' to resolve package vulnerabilities
2. Restrict CORS to single production domain
3. Make database encryption explicit in Terraform

## Next Steps

- Automated: npm audit fix will run in next CI/CD pipeline
- Manual: Review and update CORS configuration
```

---

**Version:** v17.4.0
**Last Updated:** 2025-10-23
**Template Maintained By:** NeuroPilot AI Ops Team
